function Auth(){this.maskwapper=$(".mask-wapper"),this.scollwapper=$(".scoll-wapper")}Auth.prototype.run=function(){var t=this;t.listenshowhideEvent(),t.listenSwitchEvent(),t.listenAddStaffEvent()},Auth.prototype.showEvent=function(){this.maskwapper.show()},Auth.prototype.hideEvent=function(){this.maskwapper.hide()},Auth.prototype.listenshowhideEvent=function(){var t=this,e=$(".editor-btn"),n=$(".delete-btn"),s=$(".close-btn");e.click(function(){t.showEvent()}),n.click(function(){t.showEvent()}),s.click(function(){t.hideEvent()})},Auth.prototype.listenSwitchEvent=function(){var e=this;$(".switch").click(function(){var t=e.scollwapper.css("left");(t=parseInt(t))<0?e.scollwapper.animate({left:"0"}):e.scollwapper.animate({left:"-400px"})})},Auth.prototype.listenAddStaffEvent=function(){$("#addstaff-btn").click(function(){event.preventDefault();var t=$("#MobilePhone1").val(),e=$("#username").val(),n=$("#email").val(),s=$("#name").val(),o=$("#Department").val(),a=$("#password1").val(),i=$("#password2").val(),c=$("#Permissions option:selected").text(),r=$("#groups:checked").val();xfzajax.post({url:"/account/add_staff/",data:{MobilePhone:t,username:e,email:n,name:s,Department:o,password1:a,password2:i,Permissions:c,groups:r},success:function(t){200===t.code?window.messageBox.showSuccess("添加成功！"):window.messageBox.showError("服务有问题！")},fail:function(){window.messageBox.showError("服务器内部错误！")}})})},$(function(){(new Auth).run()});